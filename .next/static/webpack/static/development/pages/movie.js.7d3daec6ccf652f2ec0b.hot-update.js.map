{"version":3,"file":"static/webpack/static\\development\\pages\\movie.js.7d3daec6ccf652f2ec0b.hot-update.js","sources":["webpack:///./components/ui/Forms/DiscoverFrom.jsx"],"sourcesContent":["import React, { useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useRouter } from 'next/router';\r\nimport useForm from '../../Hooks/useForm';\r\nimport Form from 'react-bootstrap/Form';\r\nimport getYears from '../../utility/getYears';\r\nimport uuid from 'uuid';\r\nimport { useEffect } from 'react';\r\nimport MovieContext from '../../context/MovieContext';\r\n\r\nconst Styled = styled.div`\r\n  @media screen and (min-width: 768px) {\r\n    flex: 100%;\r\n    margin-bottom: 1em;\r\n\r\n    .discover--from {\r\n      display: flex;\r\n      justify-content: space-between;\r\n\r\n      & > div {\r\n        flex: 1;\r\n        margin-right: 1em;\r\n      }\r\n\r\n      & > :last-child {\r\n        margin-right: 0;\r\n      }\r\n    }\r\n  }\r\n  @media screen and (min-width: 1000px) {\r\n    flex: 1;\r\n    margin-left: 2em;\r\n\r\n    .discover--from {\r\n      display: flex;\r\n      justify-content: space-between;\r\n\r\n      & > div {\r\n        flex: 1;\r\n        margin-right: 1em;\r\n      }\r\n\r\n      & > :last-child {\r\n        margin-right: 0;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst DiscoverForm = () => {\r\n  const {\r\n    discoverForm: { handleChange, handleSubmit, form }\r\n  } = useContext(MovieContext);\r\n\r\n  const { query, push } = useRouter();\r\n\r\n  const { year, sort_by, genre } = form;\r\n\r\n  const sortBy = [\r\n    { id: uuid.v4(), value: 'popularity.desc', name: 'popularity descending' },\r\n    { id: uuid.v4(), value: 'popularity.asc', name: 'popularity ascending' },\r\n    { id: uuid.v4(), value: 'vote_average.desc', name: 'rating descending' },\r\n    { id: uuid.v4(), value: 'vote_average.asc', name: 'rating ascending' },\r\n    {\r\n      id: uuid.v4(),\r\n      value: 'primary_release_date.desc',\r\n      name: 'release date descending'\r\n    },\r\n    {\r\n      id: uuid.v4(),\r\n      value: '\"primary_release_date.asc',\r\n      name: 'release date ascending'\r\n    },\r\n    { id: uuid.v4(), value: 'title.asc', name: 'title (A-Z)' },\r\n    { id: uuid.v4(), value: 'title.desc', name: 'title (Z-A)' }\r\n  ];\r\n\r\n  const genres = [\r\n    {\r\n      id: 28,\r\n      name: 'Action'\r\n    },\r\n    {\r\n      id: 12,\r\n      name: 'Adventure'\r\n    },\r\n    {\r\n      id: 10759,\r\n      name: 'Action & Adventure',\r\n      for: 'tv'\r\n    },\r\n    {\r\n      id: 16,\r\n      name: 'Animation'\r\n    },\r\n    {\r\n      id: 35,\r\n      name: 'Comedy'\r\n    },\r\n    {\r\n      id: 80,\r\n      name: 'Crime'\r\n    },\r\n    {\r\n      id: 99,\r\n      name: 'Documentary'\r\n    },\r\n    {\r\n      id: 18,\r\n      name: 'Drama'\r\n    },\r\n    {\r\n      id: 10751,\r\n      name: 'Family'\r\n    },\r\n    {\r\n      id: 14,\r\n      name: 'Fantasy'\r\n    },\r\n    {\r\n      id: 36,\r\n      name: 'History'\r\n    },\r\n    {\r\n      id: 27,\r\n      name: 'Horror'\r\n    },\r\n    {\r\n      id: 10762,\r\n      name: 'Kids',\r\n      for: 'tv'\r\n    },\r\n    {\r\n      id: 10402,\r\n      name: 'Music'\r\n    },\r\n    {\r\n      id: 9648,\r\n      name: 'Mystery'\r\n    },\r\n    {\r\n      id: 10749,\r\n      name: 'Romance'\r\n    },\r\n    {\r\n      id: 10763,\r\n      name: 'News',\r\n      for: 'tv'\r\n    },\r\n    {\r\n      id: 10764,\r\n      name: 'Reality',\r\n      for: 'tv'\r\n    },\r\n    {\r\n      id: 10770,\r\n      name: 'Tv Movie'\r\n    },\r\n    {\r\n      id: 53,\r\n      name: 'Thriller'\r\n    },\r\n    {\r\n      id: 878,\r\n      name: 'Sci-Fi & Fantasy'\r\n    },\r\n    {\r\n      id: 10766,\r\n      name: 'Soap',\r\n      for: 'tv'\r\n    },\r\n    {\r\n      id: 10767,\r\n      name: 'Talk',\r\n      for: 'tv'\r\n    },\r\n    {\r\n      id: 10768,\r\n      name: 'War & Politics'\r\n    },\r\n    {\r\n      id: 10752,\r\n      name: 'War'\r\n    },\r\n    {\r\n      id: 37,\r\n      name: 'Western'\r\n    }\r\n  ];\r\n\r\n  const sortQuery = sort_by === 'popularity.desc' ? '' : `&sort_by=${sort_by}`;\r\n  const yearQuery = year === '' ? '' : `&year=${year}`;\r\n  const genreQuery = genre === '' ? '' : `&genres=${genre}`;\r\n\r\n  useEffect(() => {\r\n    if (year === '' && sort_by === 'popularity.desc' && genre === '') {\r\n      return;\r\n    } else {\r\n      push(\r\n        `/discover?query=${query.query}&page=${query.page}${sortQuery}${yearQuery}${genreQuery}`\r\n      );\r\n    }\r\n  }, [form]);\r\n\r\n  console.log(form);\r\n  //   console.log(discoverForm);\r\n\r\n  return (\r\n    <Styled className='discover--form--section'>\r\n      <Form className='discover--from' onSubmit={handleSubmit}>\r\n        <Form.Group controlId='year'>\r\n          <Form.Label>Year</Form.Label>\r\n          <Form.Control\r\n            as='select'\r\n            name='year'\r\n            value={year}\r\n            onChange={handleChange}\r\n          >\r\n            <option></option>\r\n            {getYears()\r\n              .reverse()\r\n              .map(year => (\r\n                <option key={year}>{year}</option>\r\n              ))}\r\n          </Form.Control>\r\n        </Form.Group>\r\n        <Form.Group controlId='sort_by'>\r\n          <Form.Label>Sort By</Form.Label>\r\n          <Form.Control\r\n            as='select'\r\n            name='sort_by'\r\n            value={sort_by}\r\n            onChange={handleChange}\r\n          >\r\n            {sortBy.map(({ id, value, name }) => (\r\n              <option key={id} value={value}>\r\n                {name}\r\n              </option>\r\n            ))}\r\n          </Form.Control>\r\n        </Form.Group>\r\n        <Form.Group controlId='genres'>\r\n          <Form.Label>Genres</Form.Label>\r\n          <Form.Control\r\n            as='select'\r\n            name='genre'\r\n            value={genre}\r\n            onChange={handleChange}\r\n          >\r\n            <option></option>\r\n            {genres.map(genre => (\r\n              <option\r\n                key={genre.id}\r\n                value={genre.id}\r\n                className={\r\n                  query.query === 'movie' ? (!genre.for ? 'movie' : 'tv') : ''\r\n                }\r\n              >\r\n                {genre.name}\r\n              </option>\r\n            ))}\r\n          </Form.Control>\r\n        </Form.Group>\r\n      </Form>\r\n    </Styled>\r\n  );\r\n};\r\n\r\nexport default DiscoverForm;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAsCA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AASA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAKA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AACA;AAHA;AAMA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AACA;AAHA;AAMA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AAFA;AAMA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAgBA;AACA;AACA;;;;A","sourceRoot":""}