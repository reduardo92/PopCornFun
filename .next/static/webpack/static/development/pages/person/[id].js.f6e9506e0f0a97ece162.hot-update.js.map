{"version":3,"file":"static/webpack/static\\development\\pages\\person\\[id].js.f6e9506e0f0a97ece162.hot-update.js","sources":["webpack:///./pages/person/.jsx"],"sourcesContent":["import { useContext, useState } from 'react';\r\nimport { IMG_URL } from '../../components/context/types';\r\nimport movieDB from '../../components/utility/movieDB';\r\nimport styled from 'styled-components';\r\nimport Layout from '../../components/layout';\r\nimport { IoIosArrowDown } from 'react-icons/io';\r\nimport MovieContext from '../../components/context/MovieContext';\r\nimport SimpleFlex from '../../components/ui/SimpleFlex';\r\nimport RecommenCard from '../../components/ui/Cards/RecommenCard';\r\nimport groupByDate from '../../components/utility/groupByDate';\r\nimport groupeCrew from '../../components/utility/groupeCrew';\r\nimport numberWithCommas from '../../components/utility/numberWithCommas';\r\n\r\nconst Styled = styled.section`\r\n  background: var(--bg-gradient);\r\n  margin-top: 110px;\r\n  padding: 2em 1em;\r\n\r\n  .profile--person {\r\n    max-width: 300px;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  .profile--biography {\r\n    margin: 2em 0;\r\n    display: grid;\r\n    &__name {\r\n      font-weight: bold;\r\n      margin-bottom: 1em;\r\n      text-align: center;\r\n    }\r\n\r\n    .read--more {\r\n      display: flex;\r\n      align-items: center;\r\n      margin: 0 auto;\r\n      background-color: var(--primary-clr);\r\n      border-radius: 50%;\r\n      padding: 0.25em;\r\n      font-size: 1.7rem;\r\n      transition: var(--ease--in--out--02s);\r\n      color: var(--white-clr);\r\n\r\n      &:hover {\r\n        opacity: 0.8;\r\n        transform: scale(0.9);\r\n      }\r\n    }\r\n  }\r\n\r\n  .profile--media__credits {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr);\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    .tabs--container {\r\n      flex-wrap: nowrap;\r\n    }\r\n\r\n\r\n    &--content {\r\n    display: grid;\r\n    grid-column: 1 / 3;\r\n    margin-top: 1.2em;\r\n    grid-gap: 1.5em;\r\n}\r\n    }\r\n  }\r\n\r\n  .grouped {\r\n    & > div:first-child {\r\n      padding-top: 0.6em !important;\r\n    }\r\n    & > div:last-child {\r\n      padding-bottom: 0.6em !important;\r\n    }\r\n    .date {\r\n      flex: 0 0 9%;\r\n    }\r\n  }\r\n  /* .knonwFor--content {\r\n    .card--one {\r\n      width: 100%;\r\n      margin: 0 1em;\r\n    }\r\n  } */\r\n  @media screen and (min-width: 768px) {\r\n  }\r\n`;\r\n\r\nconst PersonProfile = ({ person }) => {\r\n  console.log(person);\r\n  const [tab, setTab] = useState('movies');\r\n  const { setModal } = useContext(MovieContext);\r\n  const knonwFor = person.combined_credits.cast\r\n    .sort((a, b) => b.vote_count - a.vote_count)\r\n    .slice(0, 8);\r\n\r\n  const actingDiv = arry =>\r\n    Object.entries(arry)\r\n      .sort((a, b) => b[0] - a[0])\r\n      .map(([_, value], index) => (\r\n        <div key={index} className='grouped border border-black '>\r\n          {value.map(i => (\r\n            <div\r\n              key={i.id + Math.random() * 10}\r\n              className='d-flex shadow-sm border border-light bg-light py-1 px-2'\r\n            >\r\n              <span className='date text-dark mr-4'>\r\n                <strong>{i.date === '' ? '-' : i.date}</strong>\r\n              </span>\r\n              <span className='text-dark'>\r\n                <strong className='d-block'>{i.title || i.name}</strong>\r\n                {i.job ? i.job : i.character ? `as ${i.character}` : ''}\r\n              </span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ));\r\n\r\n  const crewDiv = (arr, sortBy) => {\r\n    const entr = Object.entries(groupeCrew(arr, 'department', sortBy));\r\n\r\n    return entr.map(([key, _], index) => (\r\n      <div key={key} className='credit--role'>\r\n        <h3 key={key} className='subTitle text-light my-3'>\r\n          {key}\r\n        </h3>\r\n        <div className='grouped border border-black bg-light '>\r\n          <div\r\n            key={Math.random() * 10}\r\n            className='d-flex shadow-sm border border-light bg-light py-1 px-2'\r\n          >\r\n            {entr\r\n              .map(([_, value]) => value)\r\n              [index].map(item =>\r\n                item.map(i => (\r\n                  <>\r\n                    <span className='date text-dark mr-4'>\r\n                      <strong>{i.date === '' ? '-' : i.date}</strong>\r\n                    </span>\r\n                    <span className='text-dark'>\r\n                      <strong className='d-block'>{i.title || i.name}</strong>\r\n                      {i.job ? i.job : i.character ? `as ${i.character}` : ''}\r\n                    </span>\r\n                  </>\r\n                ))\r\n              )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ));\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <Styled className='profile'>\r\n        <div className='profile--person'>\r\n          <img src={`${IMG_URL}${person.profile_path}`} alt={person.name} />\r\n        </div>\r\n        <div className='profile--biography'>\r\n          <h2 className='profile--biography__name'>{person.name}</h2>\r\n          <h3 className='subTitle'>Biography</h3>\r\n          <p className='profile--biography__bio'>{`${person.biography.slice(\r\n            0,\r\n            500\r\n          )}...`}</p>\r\n          <a\r\n            href='#'\r\n            onClick={() => setModal(person.biography, 'person')}\r\n            className='read--more'\r\n          >\r\n            <IoIosArrowDown className='read--more__arrow' />\r\n          </a>\r\n        </div>\r\n        <div className='profile--media'>\r\n          <div className='profile--media__knownFor'>\r\n            <h3 className='subTitle'>Known For</h3>\r\n            <SimpleFlex className='knonwFor--content' setWidth='160px'>\r\n              {knonwFor.map(item => (\r\n                <RecommenCard\r\n                  key={item.id}\r\n                  data={item}\r\n                  typeFor={item.media_type}\r\n                />\r\n              ))}\r\n            </SimpleFlex>\r\n          </div>\r\n          <div className='profile--media__credits'>\r\n            <h3 className='subTitle'>Credits</h3>\r\n            <div className='tabs--container'>\r\n              <button\r\n                className={`tab ${tab === 'movies' && 'activeTab'}`}\r\n                onClick={() => setTab('movies')}\r\n              >\r\n                Movies\r\n              </button>\r\n              <button\r\n                className={`tab ${tab === 'tv' && 'activeTab'}`}\r\n                onClick={() => setTab('tv')}\r\n              >\r\n                Tv Shows\r\n              </button>\r\n            </div>\r\n            <div className='profile--media__credits--content table'>\r\n              <div className='credit--role'>\r\n                <h3 className='subTitle text-light my-3'>Acting</h3>\r\n                {/* {tab === 'movies'\r\n                  ? actingDiv(\r\n                      groupByDate(person.movie_credits.cast, 'release_date')\r\n                    )\r\n                  : actingDiv(\r\n                      groupByDate(person.tv_credits.cast, 'first_air_date')\r\n                    )} */}\r\n              </div>\r\n              {tab === 'movies'\r\n                ? crewDiv(person.movie_credits.crew, 'release_date')\r\n                : crewDiv(person.tv_credits.crew, 'first_air_date')}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='profile--facts'>\r\n          <h3 className='subTitle'>Facts</h3>\r\n        </div>\r\n      </Styled>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nPersonProfile.getInitialProps = async ctx => {\r\n  console.log(ctx.query, 'ID');\r\n  console.log(ctx);\r\n\r\n  try {\r\n    const person = await movieDB(\r\n      `person/${ctx.query.id || '85'}`,\r\n      'append_to_response=movie_credits,tv_credits,combined_credits,external_ids,images&include_image_language=en,null'\r\n    );\r\n    return {\r\n      person: { typeFor: 'person', ...person }\r\n    };\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport default PersonProfile;\r\n"],"mappings":"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","sourceRoot":""}