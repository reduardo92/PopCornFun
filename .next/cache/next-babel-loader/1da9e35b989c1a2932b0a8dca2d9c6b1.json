{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\Eduardo Rivas\\\\Desktop\\\\react_Study\\\\popcornFun\\\\components\\\\ui\\\\Forms\\\\SearchFrom.jsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useContext, useEffect, useState, useRef } from 'react';\nimport { useRouter } from 'next/router';\nimport MovieContext from '../../context/MovieContext';\nimport styled from 'styled-components';\nimport Form from 'react-bootstrap/Form';\nimport { FaSearch } from 'react-icons/fa';\nimport { MdPerson, MdLocalMovies, MdTv } from 'react-icons/md';\nimport { CLEAR_SEARCH_DATA } from '../../context/types';\nimport Link from 'next/link';\nvar Styled = styled.div.withConfig({\n  displayName: \"SearchFrom__Styled\",\n  componentId: \"sc-3mqi02-0\"\n})([\"background-color:var(--white-clr);padding:0;.form{max-width:920px;margin:0 auto;padding:0 1em;position:relative;&:hover svg{color:var(--primary-clr);}}.form-group{display:flex;margin:0;}.form-label{margin:0;margin-right:0.5em;display:flex;align-items:center;justify-content:center;cursor:pointer;svg{color:var(--grey-clr);}}.form--clear{position:absolute;top:50%;right:6%;transform:translate(-6%,-50%);color:var(--primary-clr);font-weight:bold;font-size:1.5rem;cursor:pointer;transition:var(--ease--in--out--02s);&:hover{opacity:0.7;}}.form-control{border:0;color:var(--grey-clr);&:focus{outline:0;border-color:var(--primary-clr-rgba);}&::placeholder{font-size:0.9rem;}}.search--content{height:auto;overflow-y:auto;box-shadow:0 11px 15px rgba(0,0,0,0.28);& > .search--content--item:first-child{border-top:1px solid rgba(0,0,0,0.1);}& > .search--content--item:last-child{border-top:none;}}.search--content--item{border-bottom:1px solid rgba(0,0,0,0.1);padding:0.1em 1em;transition:var(--ease--in--out--02s);cursor:pointer;&:hover{background-color:rgba(196,196,196,0.4);}&__name{color:var(--second-clr);margin-bottom:0;margin-left:1em;.media--in{color:rgb(151,151,151);margin-left:0.3em;}}&:hover .search--content--item__name,&:hover .search--content--item__icon{color:var(--primary-clr);}}.wrapper{margin:0 auto;max-width:920px;display:flex;align-items:center;font-size:0.9em;color:var(--second-clr);text-transform:capitalize;}@media screen and (min-width:1000px){.form{padding:0;}.form--clear{right:2%;transform:translate(-2%,-50%);}}\"]);\n\nvar SearchFrom = function SearchFrom() {\n  var _useContext = useContext(MovieContext),\n      getSearchData = _useContext.getSearchData,\n      clearData = _useContext.clearData,\n      searchData = _useContext.searchData;\n\n  var _useState = useState(''),\n      search = _useState[0],\n      setSearch = _useState[1];\n\n  var _useState2 = useState(false),\n      isFocus = _useState2[0],\n      setIsFocus = _useState2[1];\n\n  var inputRef = useRef();\n  var router = useRouter();\n\n  var handleChange = function handleChange(e) {\n    return setSearch(e.target.value);\n  };\n\n  useEffect(function () {\n    if (search === '') {\n      clearData(CLEAR_SEARCH_DATA);\n      return;\n    } else {\n      getSearchData(search);\n    }\n  }, [search]);\n\n  var handleSubmit = function handleSubmit(e) {\n    return _regeneratorRuntime.async(function handleSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault();\n\n            if (search === '') {\n              console.log('enter something');\n            } else {\n              console.log('loged', search);\n              router.push('/search/[query]', \"/search/\".concat(search));\n            }\n\n            setSearch('');\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return __jsx(Styled, {\n    classname: \"search form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, __jsx(Form, {\n    className: \"form\",\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, __jsx(Form.Group, {\n    controlId: \"search\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169\n    },\n    __self: this\n  }, __jsx(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, __jsx(FaSearch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  })), __jsx(Form.Control, {\n    ref: inputRef,\n    type: \"text\",\n    name: \"search\",\n    value: search,\n    onChange: handleChange,\n    onClick: function onClick() {\n      return setIsFocus(true);\n    },\n    onBlur: function onBlur() {\n      return setTimeout(function () {\n        return setIsFocus(false);\n      }, 300);\n    },\n    placeholder: \"Search for a movie, tv show, person...\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  })), (isFocus === true || search !== '') && __jsx(\"span\", {\n    onClick: function onClick() {\n      setSearch('');\n      setIsFocus(false);\n    },\n    className: \"form--clear\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }, \"x\")), __jsx(\"div\", {\n    className: \"search--content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, isFocus && searchData && searchData.map(function (item) {\n    return __jsx(Link, {\n      key: item.id,\n      href: \"/\".concat(item.media_type, \"/[id]\"),\n      as: \"/\".concat(item.media_type, \"/\").concat(item.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      // key={item.id}\n      onClick: function onClick() {\n        return setSearch('');\n      },\n      className: \"search--content--item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, item.media_type === 'movie' ? __jsx(MdLocalMovies, {\n      className: \"search--content--item__icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }) : item.media_type === 'tv' ? __jsx(MdTv, {\n      className: \"search--content--item__icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }) : __jsx(MdPerson, {\n      className: \"search--content--item__icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }), __jsx(\"p\", {\n      className: \"search--content--item__name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, item.name || item.title, __jsx(\"span\", {\n      className: \"media--in\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, \"in\", ' ', item.media_type === 'person' ? 'People' : item.media_type)))));\n  })));\n};\n\nexport default SearchFrom;","map":{"version":3,"sources":["C:/Users/Eduardo Rivas/Desktop/react_Study/popcornFun/components/ui/Forms/SearchFrom.jsx"],"names":["useContext","useEffect","useState","useRef","useRouter","MovieContext","styled","Form","FaSearch","MdPerson","MdLocalMovies","MdTv","CLEAR_SEARCH_DATA","Link","Styled","div","SearchFrom","getSearchData","clearData","searchData","search","setSearch","isFocus","setIsFocus","inputRef","router","handleChange","e","target","value","handleSubmit","preventDefault","console","log","push","setTimeout","map","item","id","media_type","name","title"],"mappings":"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","sourcesContent":["import { useContext, useEffect, useState, useRef } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport MovieContext from '../../context/MovieContext';\r\nimport styled from 'styled-components';\r\nimport Form from 'react-bootstrap/Form';\r\nimport { FaSearch } from 'react-icons/fa';\r\nimport { MdPerson, MdLocalMovies, MdTv } from 'react-icons/md';\r\nimport { CLEAR_SEARCH_DATA } from '../../context/types';\r\nimport Link from 'next/link';\r\n\r\nconst Styled = styled.div`\r\n  background-color: var(--white-clr);\r\n  padding: 0;\r\n\r\n  .form {\r\n    max-width: 920px;\r\n    margin: 0 auto;\r\n    padding: 0 1em;\r\n    position: relative;\r\n\r\n    &:hover svg {\r\n      color: var(--primary-clr);\r\n    }\r\n  }\r\n\r\n  .form-group {\r\n    display: flex;\r\n    margin: 0;\r\n  }\r\n  .form-label {\r\n    margin: 0;\r\n    margin-right: 0.5em;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    cursor: pointer;\r\n\r\n    svg {\r\n      color: var(--grey-clr);\r\n    }\r\n  }\r\n\r\n  .form--clear {\r\n    position: absolute;\r\n    /* display: none; */\r\n    top: 50%;\r\n    right: 6%;\r\n    transform: translate(-6%, -50%);\r\n    color: var(--primary-clr);\r\n    font-weight: bold;\r\n    font-size: 1.5rem;\r\n    cursor: pointer;\r\n    transition: var(--ease--in--out--02s);\r\n\r\n    &:hover {\r\n      opacity: 0.7;\r\n    }\r\n  }\r\n\r\n  .form-control {\r\n    border: 0;\r\n    color: var(--grey-clr);\r\n\r\n    &:focus {\r\n      outline: 0;\r\n      border-color: var(--primary-clr-rgba);\r\n    }\r\n    &::placeholder {\r\n      font-size: 0.9rem;\r\n    }\r\n  }\r\n\r\n  .search--content {\r\n    height: auto;\r\n    overflow-y: auto;\r\n    box-shadow: 0 11px 15px rgba(0, 0, 0, 0.28);\r\n\r\n    & > .search--content--item:first-child {\r\n      border-top: 1px solid rgba(0, 0, 0, 0.1);\r\n    }\r\n\r\n    & > .search--content--item:last-child {\r\n      border-top: none;\r\n    }\r\n  }\r\n\r\n  .search--content--item {\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n    padding: 0.1em 1em;\r\n    transition: var(--ease--in--out--02s);\r\n    cursor: pointer;\r\n    &:hover {\r\n      background-color: rgba(196, 196, 196, 0.4);\r\n    }\r\n\r\n    &__name {\r\n      color: var(--second-clr);\r\n      margin-bottom: 0;\r\n      margin-left: 1em;\r\n\r\n      .media--in {\r\n        color: rgb(151, 151, 151);\r\n        margin-left: 0.3em;\r\n      }\r\n    }\r\n\r\n    &:hover .search--content--item__name,\r\n    &:hover .search--content--item__icon {\r\n      color: var(--primary-clr);\r\n    }\r\n  }\r\n\r\n  .wrapper {\r\n    margin: 0 auto;\r\n    max-width: 920px;\r\n    display: flex;\r\n    align-items: center;\r\n    font-size: 0.9em;\r\n    color: var(--second-clr);\r\n    text-transform: capitalize;\r\n  }\r\n\r\n  @media screen and (min-width: 1000px) {\r\n    .form {\r\n      padding: 0;\r\n    }\r\n\r\n    .form--clear {\r\n      right: 2%;\r\n      transform: translate(-2%, -50%);\r\n    }\r\n  }\r\n`;\r\n\r\nconst SearchFrom = () => {\r\n  const { getSearchData, clearData, searchData } = useContext(MovieContext);\r\n  const [search, setSearch] = useState('');\r\n  const [isFocus, setIsFocus] = useState(false);\r\n  const inputRef = useRef();\r\n\r\n  const router = useRouter();\r\n\r\n  const handleChange = e => setSearch(e.target.value);\r\n\r\n  useEffect(() => {\r\n    if (search === '') {\r\n      clearData(CLEAR_SEARCH_DATA);\r\n      return;\r\n    } else {\r\n      getSearchData(search);\r\n    }\r\n  }, [search]);\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n\r\n    if (search === '') {\r\n      console.log('enter something');\r\n    } else {\r\n      console.log('loged', search);\r\n      router.push('/search/[query]', `/search/${search}`);\r\n    }\r\n    setSearch('');\r\n  };\r\n\r\n  return (\r\n    <Styled classname='search form'>\r\n      <Form className='form' onSubmit={handleSubmit}>\r\n        <Form.Group controlId='search'>\r\n          <Form.Label>\r\n            <FaSearch />\r\n          </Form.Label>\r\n          <Form.Control\r\n            ref={inputRef}\r\n            type='text'\r\n            name='search'\r\n            value={search}\r\n            onChange={handleChange}\r\n            onClick={() => setIsFocus(true)}\r\n            onBlur={() => setTimeout(() => setIsFocus(false), 300)}\r\n            placeholder='Search for a movie, tv show, person...'\r\n          />\r\n        </Form.Group>\r\n        {(isFocus === true || search !== '') && (\r\n          <span\r\n            onClick={() => {\r\n              setSearch('');\r\n              setIsFocus(false);\r\n            }}\r\n            className='form--clear'\r\n          >\r\n            x\r\n          </span>\r\n        )}\r\n      </Form>\r\n      <div className='search--content'>\r\n        {isFocus &&\r\n          searchData &&\r\n          searchData.map(item => (\r\n            <Link\r\n              key={item.id}\r\n              href={`/${item.media_type}/[id]`}\r\n              as={`/${item.media_type}/${item.id}`}\r\n            >\r\n              <div\r\n                // key={item.id}\r\n                onClick={() => setSearch('')}\r\n                className='search--content--item'\r\n              >\r\n                <div className='wrapper'>\r\n                  {item.media_type === 'movie' ? (\r\n                    <MdLocalMovies className='search--content--item__icon' />\r\n                  ) : item.media_type === 'tv' ? (\r\n                    <MdTv className='search--content--item__icon' />\r\n                  ) : (\r\n                    <MdPerson className='search--content--item__icon' />\r\n                  )}\r\n                  <p className='search--content--item__name'>\r\n                    {item.name || item.title}\r\n                    <span className='media--in'>\r\n                      in{' '}\r\n                      {item.media_type === 'person'\r\n                        ? 'People'\r\n                        : item.media_type}\r\n                    </span>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </Link>\r\n          ))}\r\n      </div>\r\n    </Styled>\r\n  );\r\n};\r\n\r\nexport default SearchFrom;\r\n"]},"metadata":{},"sourceType":"module"}