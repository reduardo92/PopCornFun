{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Eduardo Rivas\\\\Desktop\\\\react_Study\\\\popcornFun\\\\components\\\\ui\\\\Forms\\\\DiscoverFrom.jsx\";\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport styled from 'styled-components';\nimport MovieContext from '../../context/MovieContext';\nimport Form from 'react-bootstrap/Form';\nimport getYears from '../../utility/getYears';\nimport uuid from 'uuid';\nvar Styled = styled.div.withConfig({\n  displayName: \"DiscoverFrom__Styled\",\n  componentId: \"sc-1qw32to-0\"\n})([\".discover--from{display:flex;flex-direction:column;}.clear--fields{background:var(--bg-gradient);font-size:1rem;width:30px;padding:0.1em 0.5em;margin:1em auto;text-align:center;border-radius:3px;}@media screen and (min-width:768px){flex:100%;margin-bottom:1em;.discover--from{display:flex;flex-direction:row;justify-content:space-between;& > div{flex:1;margin-right:1em;}& >:last-child{margin-right:0;}.clear--fields{flex:0 0 30px;align-self:center;margin:0;margin-top:0.85em;font-size:1.3rem;}}}.genre--control .tv{display:\", \";}@media screen and (min-width:1000px){flex:1;margin-left:2em;.discover--from{display:flex;justify-content:space-between;& > div{flex:1;margin-right:1em;}& >:last-child{margin-right:0;}}}\"], function (_ref) {\n  var genre = _ref.genre;\n  return genre && 'none';\n});\n\nvar DiscoverForm = function DiscoverForm(_ref2) {\n  var typeFor = _ref2.typeFor;\n\n  var _useContext = useContext(MovieContext),\n      _useContext$discoverF = _useContext.discoverForm,\n      handleChange = _useContext$discoverF.handleChange,\n      handleSubmit = _useContext$discoverF.handleSubmit,\n      form = _useContext$discoverF.form,\n      setForm = _useContext$discoverF.setForm;\n\n  var _useRouter = useRouter(),\n      query = _useRouter.query,\n      push = _useRouter.push;\n\n  var year = form.year,\n      sort_by = form.sort_by,\n      genre = form.genre;\n  var sortBy = [{\n    id: uuid.v4(),\n    value: 'popularity.desc',\n    name: 'popularity descending'\n  }, {\n    id: uuid.v4(),\n    value: 'popularity.asc',\n    name: 'popularity ascending'\n  }, {\n    id: uuid.v4(),\n    value: 'vote_average.desc',\n    name: 'rating descending'\n  }, {\n    id: uuid.v4(),\n    value: 'vote_average.asc',\n    name: 'rating ascending'\n  }, {\n    id: uuid.v4(),\n    value: 'primary_release_date.desc',\n    name: 'release date descending'\n  }, {\n    id: uuid.v4(),\n    value: '\"primary_release_date.asc',\n    name: 'release date ascending'\n  }, {\n    id: uuid.v4(),\n    value: 'title.asc',\n    name: 'title (A-Z)'\n  }, {\n    id: uuid.v4(),\n    value: 'title.desc',\n    name: 'title (Z-A)'\n  }];\n  var genres = [{\n    id: 28,\n    name: 'Action'\n  }, {\n    id: 12,\n    name: 'Adventure'\n  }, {\n    id: 10759,\n    name: 'Action & Adventure',\n    \"for\": 'tv'\n  }, {\n    id: 16,\n    name: 'Animation'\n  }, {\n    id: 35,\n    name: 'Comedy'\n  }, {\n    id: 80,\n    name: 'Crime'\n  }, {\n    id: 99,\n    name: 'Documentary'\n  }, {\n    id: 18,\n    name: 'Drama'\n  }, {\n    id: 10751,\n    name: 'Family'\n  }, {\n    id: 14,\n    name: 'Fantasy'\n  }, {\n    id: 36,\n    name: 'History'\n  }, {\n    id: 27,\n    name: 'Horror'\n  }, {\n    id: 10762,\n    name: 'Kids',\n    \"for\": 'tv'\n  }, {\n    id: 10402,\n    name: 'Music'\n  }, {\n    id: 9648,\n    name: 'Mystery'\n  }, {\n    id: 10749,\n    name: 'Romance'\n  }, {\n    id: 10763,\n    name: 'News',\n    \"for\": 'tv'\n  }, {\n    id: 10764,\n    name: 'Reality',\n    \"for\": 'tv'\n  }, {\n    id: 10770,\n    name: 'Tv Movie'\n  }, {\n    id: 53,\n    name: 'Thriller'\n  }, {\n    id: 878,\n    name: 'Sci-Fi & Fantasy'\n  }, {\n    id: 10766,\n    name: 'Soap',\n    \"for\": 'tv'\n  }, {\n    id: 10767,\n    name: 'Talk',\n    \"for\": 'tv'\n  }, {\n    id: 10768,\n    name: 'War & Politics',\n    \"for\": 'tv'\n  }, {\n    id: 10752,\n    name: 'War'\n  }, {\n    id: 37,\n    name: 'Western'\n  }];\n\n  var handleReset = function handleReset() {\n    setForm({\n      year: '',\n      sort_by: 'popularity.desc',\n      genre: ''\n    });\n    push(\"/discover?query=\".concat(query.query).concat(sortQuery).concat(yearQuery).concat(genreQuery, \"&page=1\"));\n  };\n\n  var sortQuery = sort_by === 'popularity.desc' ? '' : \"&sort_by=\".concat(sort_by);\n  var yearQuery = year === '' ? '' : \"&year=\".concat(year);\n  var genreQuery = genre === '' ? '' : \"&genres=\".concat(genre);\n  useEffect(function () {\n    if (genre === '') {\n      push(\"/discover?query=\".concat(query.query).concat(sortQuery).concat(yearQuery, \"&page=\").concat(query.page));\n    }\n\n    if (year === '') {\n      push(\"/discover?query=\".concat(query.query).concat(sortQuery).concat(genreQuery, \"&page=\").concat(query.page));\n    }\n\n    push(\"/discover?query=\".concat(query.query).concat(sortQuery).concat(yearQuery).concat(genreQuery, \"&page=\").concat(query.page));\n  }, [year, sort_by, genre]);\n  return __jsx(Styled, {\n    className: \"discover--form--section\",\n    genre: query.query === 'movie' && true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, __jsx(Form, {\n    className: \"discover--from\",\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, __jsx(Form.Group, {\n    controlId: \"year\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, __jsx(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }, \"Year\"), __jsx(Form.Control, {\n    as: \"select\",\n    name: \"year\",\n    value: year,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, __jsx(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }), getYears().reverse().map(function (year) {\n    return __jsx(\"option\", {\n      key: year,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, year);\n  }))), __jsx(Form.Group, {\n    controlId: \"sort_by\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, __jsx(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, \"Sort By\"), __jsx(Form.Control, {\n    as: \"select\",\n    name: \"sort_by\",\n    value: sort_by,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, sortBy.map(function (_ref3) {\n    var id = _ref3.id,\n        value = _ref3.value,\n        name = _ref3.name;\n    return __jsx(\"option\", {\n      key: id,\n      value: value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, name);\n  }))), __jsx(Form.Group, {\n    controlId: \"genres\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }, __jsx(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, \"Genres\"), __jsx(Form.Control, {\n    className: \"genre--control\",\n    as: \"select\",\n    name: \"genre\",\n    value: genre,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, __jsx(\"option\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }), genres.map(function (genre) {\n    return __jsx(\"option\", {\n      key: genre.id,\n      value: genre.id,\n      className: !genre[\"for\"] ? 'both' : 'tv',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, genre.name);\n  }))), __jsx(\"div\", {\n    className: \"clear--fields\",\n    onClick: handleReset,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }, \"x\")));\n};\n\nexport default DiscoverForm;","map":{"version":3,"sources":["C:/Users/Eduardo Rivas/Desktop/react_Study/popcornFun/components/ui/Forms/DiscoverFrom.jsx"],"names":["React","useContext","useEffect","useRouter","styled","MovieContext","Form","getYears","uuid","Styled","div","genre","DiscoverForm","typeFor","discoverForm","handleChange","handleSubmit","form","setForm","query","push","year","sort_by","sortBy","id","v4","value","name","genres","handleReset","sortQuery","yearQuery","genreQuery","page","reverse","map"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,QAA6C,OAA7C;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AAEA,IAAMC,MAAM,GAAGL,MAAM,CAACM,GAAV;AAAA;AAAA;AAAA,otBA8CG;AAAA,MAAGC,KAAH,QAAGA,KAAH;AAAA,SAAeA,KAAK,IAAI,MAAxB;AAAA,CA9CH,CAAZ;;AAoEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,QAAiB;AAAA,MAAdC,OAAc,SAAdA,OAAc;;AAAA,oBAGhCZ,UAAU,CAACI,YAAD,CAHsB;AAAA,0CAElCS,YAFkC;AAAA,MAElBC,YAFkB,yBAElBA,YAFkB;AAAA,MAEJC,YAFI,yBAEJA,YAFI;AAAA,MAEUC,IAFV,yBAEUA,IAFV;AAAA,MAEgBC,OAFhB,yBAEgBA,OAFhB;;AAAA,mBAKZf,SAAS,EALG;AAAA,MAK5BgB,KAL4B,cAK5BA,KAL4B;AAAA,MAKrBC,IALqB,cAKrBA,IALqB;;AAAA,MAO5BC,IAP4B,GAOHJ,IAPG,CAO5BI,IAP4B;AAAA,MAOtBC,OAPsB,GAOHL,IAPG,CAOtBK,OAPsB;AAAA,MAObX,KAPa,GAOHM,IAPG,CAObN,KAPa;AASpC,MAAMY,MAAM,GAAG,CACb;AAAEC,IAAAA,EAAE,EAAEhB,IAAI,CAACiB,EAAL,EAAN;AAAiBC,IAAAA,KAAK,EAAE,iBAAxB;AAA2CC,IAAAA,IAAI,EAAE;AAAjD,GADa,EAEb;AAAEH,IAAAA,EAAE,EAAEhB,IAAI,CAACiB,EAAL,EAAN;AAAiBC,IAAAA,KAAK,EAAE,gBAAxB;AAA0CC,IAAAA,IAAI,EAAE;AAAhD,GAFa,EAGb;AAAEH,IAAAA,EAAE,EAAEhB,IAAI,CAACiB,EAAL,EAAN;AAAiBC,IAAAA,KAAK,EAAE,mBAAxB;AAA6CC,IAAAA,IAAI,EAAE;AAAnD,GAHa,EAIb;AAAEH,IAAAA,EAAE,EAAEhB,IAAI,CAACiB,EAAL,EAAN;AAAiBC,IAAAA,KAAK,EAAE,kBAAxB;AAA4CC,IAAAA,IAAI,EAAE;AAAlD,GAJa,EAKb;AACEH,IAAAA,EAAE,EAAEhB,IAAI,CAACiB,EAAL,EADN;AAEEC,IAAAA,KAAK,EAAE,2BAFT;AAGEC,IAAAA,IAAI,EAAE;AAHR,GALa,EAUb;AACEH,IAAAA,EAAE,EAAEhB,IAAI,CAACiB,EAAL,EADN;AAEEC,IAAAA,KAAK,EAAE,2BAFT;AAGEC,IAAAA,IAAI,EAAE;AAHR,GAVa,EAeb;AAAEH,IAAAA,EAAE,EAAEhB,IAAI,CAACiB,EAAL,EAAN;AAAiBC,IAAAA,KAAK,EAAE,WAAxB;AAAqCC,IAAAA,IAAI,EAAE;AAA3C,GAfa,EAgBb;AAAEH,IAAAA,EAAE,EAAEhB,IAAI,CAACiB,EAAL,EAAN;AAAiBC,IAAAA,KAAK,EAAE,YAAxB;AAAsCC,IAAAA,IAAI,EAAE;AAA5C,GAhBa,CAAf;AAmBA,MAAMC,MAAM,GAAG,CACb;AAAEJ,IAAAA,EAAE,EAAE,EAAN;AAAUG,IAAAA,IAAI,EAAE;AAAhB,GADa,EAEb;AAAEH,IAAAA,EAAE,EAAE,EAAN;AAAUG,IAAAA,IAAI,EAAE;AAAhB,GAFa,EAGb;AAAEH,IAAAA,EAAE,EAAE,KAAN;AAAaG,IAAAA,IAAI,EAAE,oBAAnB;AAAyC,WAAK;AAA9C,GAHa,EAIb;AAAEH,IAAAA,EAAE,EAAE,EAAN;AAAUG,IAAAA,IAAI,EAAE;AAAhB,GAJa,EAKb;AAAEH,IAAAA,EAAE,EAAE,EAAN;AAAUG,IAAAA,IAAI,EAAE;AAAhB,GALa,EAMb;AAAEH,IAAAA,EAAE,EAAE,EAAN;AAAUG,IAAAA,IAAI,EAAE;AAAhB,GANa,EAOb;AAAEH,IAAAA,EAAE,EAAE,EAAN;AAAUG,IAAAA,IAAI,EAAE;AAAhB,GAPa,EAQb;AAAEH,IAAAA,EAAE,EAAE,EAAN;AAAUG,IAAAA,IAAI,EAAE;AAAhB,GARa,EASb;AAAEH,IAAAA,EAAE,EAAE,KAAN;AAAaG,IAAAA,IAAI,EAAE;AAAnB,GATa,EAUb;AAAEH,IAAAA,EAAE,EAAE,EAAN;AAAUG,IAAAA,IAAI,EAAE;AAAhB,GAVa,EAWb;AAAEH,IAAAA,EAAE,EAAE,EAAN;AAAUG,IAAAA,IAAI,EAAE;AAAhB,GAXa,EAYb;AAAEH,IAAAA,EAAE,EAAE,EAAN;AAAUG,IAAAA,IAAI,EAAE;AAAhB,GAZa,EAab;AAAEH,IAAAA,EAAE,EAAE,KAAN;AAAaG,IAAAA,IAAI,EAAE,MAAnB;AAA2B,WAAK;AAAhC,GAba,EAcb;AAAEH,IAAAA,EAAE,EAAE,KAAN;AAAaG,IAAAA,IAAI,EAAE;AAAnB,GAda,EAeb;AAAEH,IAAAA,EAAE,EAAE,IAAN;AAAYG,IAAAA,IAAI,EAAE;AAAlB,GAfa,EAgBb;AAAEH,IAAAA,EAAE,EAAE,KAAN;AAAaG,IAAAA,IAAI,EAAE;AAAnB,GAhBa,EAiBb;AAAEH,IAAAA,EAAE,EAAE,KAAN;AAAaG,IAAAA,IAAI,EAAE,MAAnB;AAA2B,WAAK;AAAhC,GAjBa,EAkBb;AAAEH,IAAAA,EAAE,EAAE,KAAN;AAAaG,IAAAA,IAAI,EAAE,SAAnB;AAA8B,WAAK;AAAnC,GAlBa,EAmBb;AAAEH,IAAAA,EAAE,EAAE,KAAN;AAAaG,IAAAA,IAAI,EAAE;AAAnB,GAnBa,EAoBb;AAAEH,IAAAA,EAAE,EAAE,EAAN;AAAUG,IAAAA,IAAI,EAAE;AAAhB,GApBa,EAqBb;AAAEH,IAAAA,EAAE,EAAE,GAAN;AAAWG,IAAAA,IAAI,EAAE;AAAjB,GArBa,EAsBb;AAAEH,IAAAA,EAAE,EAAE,KAAN;AAAaG,IAAAA,IAAI,EAAE,MAAnB;AAA2B,WAAK;AAAhC,GAtBa,EAuBb;AAAEH,IAAAA,EAAE,EAAE,KAAN;AAAaG,IAAAA,IAAI,EAAE,MAAnB;AAA2B,WAAK;AAAhC,GAvBa,EAwBb;AAAEH,IAAAA,EAAE,EAAE,KAAN;AAAaG,IAAAA,IAAI,EAAE,gBAAnB;AAAqC,WAAK;AAA1C,GAxBa,EAyBb;AAAEH,IAAAA,EAAE,EAAE,KAAN;AAAaG,IAAAA,IAAI,EAAE;AAAnB,GAzBa,EA0Bb;AAAEH,IAAAA,EAAE,EAAE,EAAN;AAAUG,IAAAA,IAAI,EAAE;AAAhB,GA1Ba,CAAf;;AA6BA,MAAME,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBX,IAAAA,OAAO,CAAC;AACNG,MAAAA,IAAI,EAAE,EADA;AAENC,MAAAA,OAAO,EAAE,iBAFH;AAGNX,MAAAA,KAAK,EAAE;AAHD,KAAD,CAAP;AAKAS,IAAAA,IAAI,2BACiBD,KAAK,CAACA,KADvB,SAC+BW,SAD/B,SAC2CC,SAD3C,SACuDC,UADvD,aAAJ;AAGD,GATD;;AAWA,MAAMF,SAAS,GAAGR,OAAO,KAAK,iBAAZ,GAAgC,EAAhC,sBAAiDA,OAAjD,CAAlB;AACA,MAAMS,SAAS,GAAGV,IAAI,KAAK,EAAT,GAAc,EAAd,mBAA4BA,IAA5B,CAAlB;AACA,MAAMW,UAAU,GAAGrB,KAAK,KAAK,EAAV,GAAe,EAAf,qBAA+BA,KAA/B,CAAnB;AAEAT,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIS,KAAK,KAAK,EAAd,EAAkB;AAChBS,MAAAA,IAAI,2BACiBD,KAAK,CAACA,KADvB,SAC+BW,SAD/B,SAC2CC,SAD3C,mBAC6DZ,KAAK,CAACc,IADnE,EAAJ;AAGD;;AACD,QAAIZ,IAAI,KAAK,EAAb,EAAiB;AACfD,MAAAA,IAAI,2BACiBD,KAAK,CAACA,KADvB,SAC+BW,SAD/B,SAC2CE,UAD3C,mBAC8Db,KAAK,CAACc,IADpE,EAAJ;AAGD;;AACDb,IAAAA,IAAI,2BACiBD,KAAK,CAACA,KADvB,SAC+BW,SAD/B,SAC2CC,SAD3C,SACuDC,UADvD,mBAC0Eb,KAAK,CAACc,IADhF,EAAJ;AAGD,GAdQ,EAcN,CAACZ,IAAD,EAAOC,OAAP,EAAgBX,KAAhB,CAdM,CAAT;AAgBA,SACE,MAAC,MAAD;AACE,IAAA,SAAS,EAAC,yBADZ;AAEE,IAAA,KAAK,EAAEQ,KAAK,CAACA,KAAN,KAAgB,OAAhB,IAA2B,IAFpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIE,MAAC,IAAD;AAAM,IAAA,SAAS,EAAC,gBAAhB;AAAiC,IAAA,QAAQ,EAAEH,YAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD,CAAM,KAAN;AAAY,IAAA,SAAS,EAAC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAEE,MAAC,IAAD,CAAM,OAAN;AACE,IAAA,EAAE,EAAC,QADL;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,KAAK,EAAEK,IAHT;AAIE,IAAA,QAAQ,EAAEN,YAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,EAOGR,QAAQ,GACN2B,OADF,GAEEC,GAFF,CAEM,UAAAd,IAAI;AAAA,WACP;AAAQ,MAAA,GAAG,EAAEA,IAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoBA,IAApB,CADO;AAAA,GAFV,CAPH,CAFF,CADF,EAiBE,MAAC,IAAD,CAAM,KAAN;AAAY,IAAA,SAAS,EAAC,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEE,MAAC,IAAD,CAAM,OAAN;AACE,IAAA,EAAE,EAAC,QADL;AAEE,IAAA,IAAI,EAAC,SAFP;AAGE,IAAA,KAAK,EAAEC,OAHT;AAIE,IAAA,QAAQ,EAAEP,YAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMGQ,MAAM,CAACY,GAAP,CAAW;AAAA,QAAGX,EAAH,SAAGA,EAAH;AAAA,QAAOE,KAAP,SAAOA,KAAP;AAAA,QAAcC,IAAd,SAAcA,IAAd;AAAA,WACV;AAAQ,MAAA,GAAG,EAAEH,EAAb;AAAiB,MAAA,KAAK,EAAEE,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGC,IADH,CADU;AAAA,GAAX,CANH,CAFF,CAjBF,EAgCE,MAAC,IAAD,CAAM,KAAN;AAAY,IAAA,SAAS,EAAC,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAEE,MAAC,IAAD,CAAM,OAAN;AACE,IAAA,SAAS,EAAC,gBADZ;AAEE,IAAA,EAAE,EAAC,QAFL;AAGE,IAAA,IAAI,EAAC,OAHP;AAIE,IAAA,KAAK,EAAEhB,KAJT;AAKE,IAAA,QAAQ,EAAEI,YALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,EAQGa,MAAM,CAACO,GAAP,CAAW,UAAAxB,KAAK;AAAA,WACf;AACE,MAAA,GAAG,EAAEA,KAAK,CAACa,EADb;AAEE,MAAA,KAAK,EAAEb,KAAK,CAACa,EAFf;AAGE,MAAA,SAAS,EAAE,CAACb,KAAK,OAAN,GAAa,MAAb,GAAsB,IAHnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKGA,KAAK,CAACgB,IALT,CADe;AAAA,GAAhB,CARH,CAFF,CAhCF,EAqDE;AAAK,IAAA,SAAS,EAAC,eAAf;AAA+B,IAAA,OAAO,EAAEE,WAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SArDF,CAJF,CADF;AAgED,CAxJD;;AA0JA,eAAejB,YAAf","sourcesContent":["import React, { useContext, useEffect } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport styled from 'styled-components';\r\nimport MovieContext from '../../context/MovieContext';\r\nimport Form from 'react-bootstrap/Form';\r\nimport getYears from '../../utility/getYears';\r\nimport uuid from 'uuid';\r\n\r\nconst Styled = styled.div`\r\n  .discover--from {\r\n    display: flex;\r\n    flex-direction: column;\r\n    /* justify-content: space-between; */\r\n  }\r\n\r\n  .clear--fields {\r\n    background: var(--bg-gradient);\r\n    font-size: 1rem;\r\n    width: 30px;\r\n    padding: 0.1em 0.5em;\r\n    margin: 1em auto;\r\n    text-align: center;\r\n    border-radius: 3px;\r\n  }\r\n\r\n  @media screen and (min-width: 768px) {\r\n    flex: 100%;\r\n    margin-bottom: 1em;\r\n\r\n    .discover--from {\r\n      display: flex;\r\n      flex-direction: row;\r\n      justify-content: space-between;\r\n\r\n      & > div {\r\n        flex: 1;\r\n        margin-right: 1em;\r\n      }\r\n\r\n      & > :last-child {\r\n        margin-right: 0;\r\n      }\r\n\r\n      .clear--fields {\r\n        flex: 0 0 30px;\r\n        align-self: center;\r\n        margin: 0;\r\n        margin-top: 0.85em;\r\n        font-size: 1.3rem;\r\n      }\r\n    }\r\n  }\r\n\r\n  .genre--control .tv {\r\n    display: ${({ genre }) => genre && 'none'};\r\n  }\r\n  @media screen and (min-width: 1000px) {\r\n    flex: 1;\r\n    margin-left: 2em;\r\n\r\n    .discover--from {\r\n      display: flex;\r\n      justify-content: space-between;\r\n\r\n      & > div {\r\n        flex: 1;\r\n        margin-right: 1em;\r\n      }\r\n\r\n      & > :last-child {\r\n        margin-right: 0;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst DiscoverForm = ({ typeFor }) => {\r\n  const {\r\n    discoverForm: { handleChange, handleSubmit, form, setForm }\r\n  } = useContext(MovieContext);\r\n\r\n  const { query, push } = useRouter();\r\n\r\n  const { year, sort_by, genre } = form;\r\n\r\n  const sortBy = [\r\n    { id: uuid.v4(), value: 'popularity.desc', name: 'popularity descending' },\r\n    { id: uuid.v4(), value: 'popularity.asc', name: 'popularity ascending' },\r\n    { id: uuid.v4(), value: 'vote_average.desc', name: 'rating descending' },\r\n    { id: uuid.v4(), value: 'vote_average.asc', name: 'rating ascending' },\r\n    {\r\n      id: uuid.v4(),\r\n      value: 'primary_release_date.desc',\r\n      name: 'release date descending'\r\n    },\r\n    {\r\n      id: uuid.v4(),\r\n      value: '\"primary_release_date.asc',\r\n      name: 'release date ascending'\r\n    },\r\n    { id: uuid.v4(), value: 'title.asc', name: 'title (A-Z)' },\r\n    { id: uuid.v4(), value: 'title.desc', name: 'title (Z-A)' }\r\n  ];\r\n\r\n  const genres = [\r\n    { id: 28, name: 'Action' },\r\n    { id: 12, name: 'Adventure' },\r\n    { id: 10759, name: 'Action & Adventure', for: 'tv' },\r\n    { id: 16, name: 'Animation' },\r\n    { id: 35, name: 'Comedy' },\r\n    { id: 80, name: 'Crime' },\r\n    { id: 99, name: 'Documentary' },\r\n    { id: 18, name: 'Drama' },\r\n    { id: 10751, name: 'Family' },\r\n    { id: 14, name: 'Fantasy' },\r\n    { id: 36, name: 'History' },\r\n    { id: 27, name: 'Horror' },\r\n    { id: 10762, name: 'Kids', for: 'tv' },\r\n    { id: 10402, name: 'Music' },\r\n    { id: 9648, name: 'Mystery' },\r\n    { id: 10749, name: 'Romance' },\r\n    { id: 10763, name: 'News', for: 'tv' },\r\n    { id: 10764, name: 'Reality', for: 'tv' },\r\n    { id: 10770, name: 'Tv Movie' },\r\n    { id: 53, name: 'Thriller' },\r\n    { id: 878, name: 'Sci-Fi & Fantasy' },\r\n    { id: 10766, name: 'Soap', for: 'tv' },\r\n    { id: 10767, name: 'Talk', for: 'tv' },\r\n    { id: 10768, name: 'War & Politics', for: 'tv' },\r\n    { id: 10752, name: 'War' },\r\n    { id: 37, name: 'Western' }\r\n  ];\r\n\r\n  const handleReset = () => {\r\n    setForm({\r\n      year: '',\r\n      sort_by: 'popularity.desc',\r\n      genre: ''\r\n    });\r\n    push(\r\n      `/discover?query=${query.query}${sortQuery}${yearQuery}${genreQuery}&page=1`\r\n    );\r\n  };\r\n\r\n  const sortQuery = sort_by === 'popularity.desc' ? '' : `&sort_by=${sort_by}`;\r\n  const yearQuery = year === '' ? '' : `&year=${year}`;\r\n  const genreQuery = genre === '' ? '' : `&genres=${genre}`;\r\n\r\n  useEffect(() => {\r\n    if (genre === '') {\r\n      push(\r\n        `/discover?query=${query.query}${sortQuery}${yearQuery}&page=${query.page}`\r\n      );\r\n    }\r\n    if (year === '') {\r\n      push(\r\n        `/discover?query=${query.query}${sortQuery}${genreQuery}&page=${query.page}`\r\n      );\r\n    }\r\n    push(\r\n      `/discover?query=${query.query}${sortQuery}${yearQuery}${genreQuery}&page=${query.page}`\r\n    );\r\n  }, [year, sort_by, genre]);\r\n\r\n  return (\r\n    <Styled\r\n      className='discover--form--section'\r\n      genre={query.query === 'movie' && true}\r\n    >\r\n      <Form className='discover--from' onSubmit={handleSubmit}>\r\n        <Form.Group controlId='year'>\r\n          <Form.Label>Year</Form.Label>\r\n          <Form.Control\r\n            as='select'\r\n            name='year'\r\n            value={year}\r\n            onChange={handleChange}\r\n          >\r\n            <option></option>\r\n            {getYears()\r\n              .reverse()\r\n              .map(year => (\r\n                <option key={year}>{year}</option>\r\n              ))}\r\n          </Form.Control>\r\n        </Form.Group>\r\n        <Form.Group controlId='sort_by'>\r\n          <Form.Label>Sort By</Form.Label>\r\n          <Form.Control\r\n            as='select'\r\n            name='sort_by'\r\n            value={sort_by}\r\n            onChange={handleChange}\r\n          >\r\n            {sortBy.map(({ id, value, name }) => (\r\n              <option key={id} value={value}>\r\n                {name}\r\n              </option>\r\n            ))}\r\n          </Form.Control>\r\n        </Form.Group>\r\n        <Form.Group controlId='genres'>\r\n          <Form.Label>Genres</Form.Label>\r\n          <Form.Control\r\n            className='genre--control'\r\n            as='select'\r\n            name='genre'\r\n            value={genre}\r\n            onChange={handleChange}\r\n          >\r\n            <option></option>\r\n            {genres.map(genre => (\r\n              <option\r\n                key={genre.id}\r\n                value={genre.id}\r\n                className={!genre.for ? 'both' : 'tv'}\r\n              >\r\n                {genre.name}\r\n              </option>\r\n            ))}\r\n          </Form.Control>\r\n        </Form.Group>\r\n        <div className='clear--fields' onClick={handleReset}>\r\n          x\r\n        </div>\r\n      </Form>\r\n    </Styled>\r\n  );\r\n};\r\n\r\nexport default DiscoverForm;\r\n"]},"metadata":{},"sourceType":"module"}